{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/IconButton/IconButton.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","services/apiService.js","components/ImageGallery/pending-image.png","components/ImageGallery/ImagesIdleView.jsx","components/ImageGallery/ImagesPendingView.jsx","components/ImageGallery/error.png","components/ImageGallery/ImagesErrorView.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImagesDataView.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/IconButton/IconButton.jsx","components/IconButton/cross.svg","components/App/App.jsx","index.js"],"names":["module","exports","SearchForm","state","imageRequest","handleRequestChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","forSubmit","onSubmit","this","className","s","form","type","btn","btn_label","input","autoComplete","autoFocus","placeholder","onChange","Component","defaultProps","Searchbar","searchbar","fetchArticles","page","a","axios","get","params","q","data","console","defaults","baseURL","key","image_type","orientation","ImagesIdleView","role","src","pendingImage","alt","ImagesDataView","loader","color","height","width","ImagesErrorView","message","errorImage","ImageGalleryItem","image","tags","largeImage","toClick","onClick","Button","children","id","images","forClick","box","gallery","map","webformatURL","largeImageURL","item","Status","ImageGallery","status","addImages","prevState","prevProps","prevName","prevPage","nextName","nextPage","setTimeout","then","catch","document","getElementById","scrollIntoView","block","behavior","modalRoot","querySelector","Modal","handleKeyDown","code","forClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","IconButton","allyProps","_path","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCross","_ref","svgRef","title","titleId","xmlns","viewBox","ref","undefined","d","ForwardRef","App","showModal","handleFormSubmit","setTarget","toggleModal","fill","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7c7a278d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__3zQAI\",\"btn\":\"SearchForm_btn__2hI9j\",\"btn_label\":\"SearchForm_btn_label__1l6k6\",\"input\":\"SearchForm_input__1Ykao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2MXq6\",\"modal\":\"Modal_modal__3-Ywl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1gZub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__3gGWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__8b-nx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"IconButton_btn__3cnnP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ImageGallery_box__Ri7QC\",\"gallery\":\"ImageGallery_gallery__2EWll\",\"item\":\"ImageGallery_item__3IbFA\",\"loader\":\"ImageGallery_loader__2pp8L\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    imageRequest: '',\n  };\n\n  handleRequestChange = e => {\n    this.setState({ imageRequest: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageRequest.trim() === '') {\n      toast.error(\n        'Check the correctness of the entered data, images of this category do not exist!',\n      );\n      this.setState({ imageRequest: '' });\n      return;\n    }\n\n    this.props.forSubmit(this.state.imageRequest.trim());\n    this.setState({ imageRequest: '' });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className={s.form}>\n        <button type=\"submit\" className={s.btn}>\n          <span className={s.btn_label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={this.state.imageRequest}\n          onChange={this.handleRequestChange}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.defaultProps = {\n  forSubmit: () => null,\n};\n\nSearchForm.propTypes = {\n  forSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import PropTypes from 'prop-types';\nimport SearchForm from '../SearchForm/SearchForm';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ forSubmit }) {\n  return (\n    <header className={s.searchbar}>\n      <SearchForm forSubmit={forSubmit} />\n    </header>\n  );\n}\n\nSearchbar.defaultProps = {\n  forSubmit: () => null,\n};\n\nSearchbar.propTypes = {\n  forSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\naxios.defaults.params = {\n  key: '24048066-a9af356d7e5c6815eb6be670e',\n  image_type: 'photo',\n  orientation: 'horizontal',\n};\n\nexport default async function fetchArticles(imageRequest, page) {\n  try {\n    const { data } = await axios.get('', { params: { q: imageRequest, page } });\n    return data;\n  } catch (e) {\n    console.error(e);\n  }\n}\n","export default __webpack_public_path__ + \"static/media/pending-image.191574ae.png\";","import pendingImage from './pending-image.png';\n\nexport default function ImagesIdleView() {\n  return (\n    <div role=\"alert\">\n      <img src={pendingImage} alt=\"Pixabay\" />\n    </div>\n  );\n}\n","import Loader from 'react-loader-spinner';\nimport s from './ImageGallery.module.css';\n\nexport default function ImagesDataView() {\n  return (\n    <div className={s.loader}>\n      <Loader type=\"Puff\" color=\"#3f51b5\" height={500} width={500} />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/error.eaab311d.png\";","import PropTypes from 'prop-types';\nimport errorImage from './error.png';\nimport s from './ImageGallery.module.css';\n\nexport default function ImagesErrorView({ message }) {\n  return (\n    <div role=\"alert\" className={s.loader}>\n      <img src={errorImage} alt=\"Error\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nImagesErrorView.defaultProps = {\n  message: '',\n};\n\nImagesErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, tags, largeImage, toClick }) => {\n  return (\n    <img\n      src={image}\n      alt={tags}\n      onClick={() => toClick(largeImage)}\n      className={s.image}\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ type, onClick, children }) {\n  return (\n    <button type={type} className={s.btn} onClick={onClick} id=\"btn\">\n      {children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nButton.propTypes = {\n  type: PropTypes.oneOf(['button', 'submit', 'reset']).isRequired,\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n};\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Button from '../Button';\nimport s from './ImageGallery.module.css';\n\nexport default function ImagesDataView({ images, toClick, forClick }) {\n  return (\n    <div className={s.box}>\n      <ul className={s.gallery}>\n        {images.map(({ webformatURL, largeImageURL, tags }) => (\n          <li key={webformatURL} className={s.item}>\n            <ImageGalleryItem\n              image={webformatURL}\n              tags={tags}\n              largeImage={largeImageURL}\n              toClick={toClick}\n            />\n          </li>\n        ))}\n      </ul>\n      <Button type=\"button\" onClick={forClick}>\n        Load more\n      </Button>\n    </div>\n  );\n}\n\nImagesDataView.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ),\n  toClick: PropTypes.func.isRequired,\n  forClick: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchArticles from '../../services/apiService';\nimport ImagesIdleView from './ImagesIdleView';\nimport ImagesPendingView from './ImagesPendingView';\nimport ImagesErrorView from './ImagesErrorView';\nimport ImagesDataView from './ImagesDataView';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageRequest;\n    const prevPage = prevState.page;\n    const nextName = this.props.imageRequest;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName) {\n      this.setState({ images: [], page: 1, status: Status.PENDING });\n\n      setTimeout(() => {\n        fetchArticles(nextName, this.state.page)\n          .then(images => this.setState({ images, status: Status.RESOLVED }))\n          .catch(error => this.setState({ error, status: Status.REJECTED }));\n      }, 0);\n    }\n\n    if (prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      try {\n        const images = await fetchArticles(prevName, this.state.page);\n\n        this.setState({\n          images: [...prevState.images, ...images],\n          status: Status.RESOLVED,\n        });\n        document\n          .getElementById('btn')\n          .scrollIntoView({ block: 'center', behavior: 'smooth' });\n\n        this.setState({\n          images: [...prevState.images, ...images],\n          status: Status.RESOLVED,\n        });\n      } catch (e) {\n        this.setState({ e, status: Status.REJECTED });\n      }\n    }\n  }\n\n  addImages = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    return (\n      <>\n        {status === 'idle' && <ImagesIdleView />}\n        {status === 'rejected' && <ImagesErrorView message={error.message} />}\n        {status === 'pending' && <ImagesPendingView />}\n        {status === 'resolved' && (\n          <ImagesDataView\n            images={images}\n            toClick={this.props.toClick}\n            forClick={this.addImages}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  imageRequest: PropTypes.string.isRequired,\n  toClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    forClose: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    e.code === 'Escape' && this.props.forClose();\n  };\n\n  handleBackdropClick = e => {\n    e.currentTarget === e.target && this.props.forClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport s from './IconButton.module.css';\n\nconst IconButton = ({ children, onClick, ...allyProps }) => (\n  <button type=\"button\" className={s.btn} onClick={onClick} {...allyProps}>\n    {children}\n  </button>\n);\n\nIconButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nIconButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default IconButton;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCross(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"cross\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCross);\nexport default __webpack_public_path__ + \"static/media/cross.5034ac69.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Modal from '../Modal';\nimport IconButton from '../IconButton';\nimport { ReactComponent as CloseIcon } from '../IconButton/cross.svg';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    imageRequest: '',\n    largeImage: '',\n    showModal: false,\n  };\n\n  handleFormSubmit = imageRequest => {\n    this.setState({ imageRequest });\n  };\n\n  setTarget = largeImage => {\n    this.setState({ largeImage, showModal: true });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { largeImage, showModal } = this.state;\n    const toggleModal = this.toggleModal;\n    const setTarget = this.setTarget;\n\n    return (\n      <>\n        <Searchbar forSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          imageRequest={this.state.imageRequest}\n          toClick={setTarget}\n        />\n        <ToastContainer />\n        {showModal && (\n          <Modal forClose={toggleModal}>\n            <img src={largeImage} alt={largeImage} />\n            <IconButton\n              type=\"button\"\n              aria-label=\"Добавить заметку\"\n              onClick={toggleModal}\n            >\n              <CloseIcon fill=\"#fff\" />\n            </IconButton>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport App from './components/App';\nimport './index.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}