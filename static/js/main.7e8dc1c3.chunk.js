(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={box:"ImageDataView_box__3GAYe",gallery:"ImageDataView_gallery__3b_MH",item:"ImageDataView_item__3Igtq",loader:"ImageDataView_loader__IOZRf"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__2MXq6",modal:"Modal_modal__3-Ywl"}},16:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1gZub"}},19:function(e,t,a){e.exports={box:"ImagePendingView_box__3M24u",gallery:"ImagePendingView_gallery__36zzG",item:"ImagePendingView_item__3ThQ2",loader:"ImagePendingView_loader__3U2Yy"}},20:function(e,t,a){e.exports={box:"ImageErrorView_box__1WoBI",gallery:"ImageErrorView_gallery__1A4fo",item:"ImageErrorView_item__LrHY8",loader:"ImageErrorView_loader__2JwJr"}},21:function(e,t,a){e.exports={image:"ImageGalleryItem_image__2_cdt"}},22:function(e,t,a){e.exports={btn:"Button_btn__8b-nx"}},23:function(e,t,a){e.exports={btn:"IconButton_btn__3cnnP"}},29:function(e,t,a){},54:function(e,t,a){e.exports={App:"App_App__3qPOG"}},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=(a(29),a(30),a(31),a(3)),s=a(4),l=a(6),u=a(5),m=a(9),d=a(8),b=a.n(d),g=a(1),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:""},e.handleRequestChange=function(t){e.setState({imageRequest:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.imageRequest.trim())return m.b.error("Check the correctness of the entered data, images of this category do not exist!"),void e.setState({imageRequest:""});e.props.forSubmit(e.state.imageRequest.trim()),e.setState({imageRequest:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("form",{onSubmit:this.handleSubmit,className:b.a.form,children:[Object(g.jsx)("button",{type:"submit",className:b.a.btn,children:Object(g.jsx)("span",{className:b.a.btn_label,children:"Search"})}),Object(g.jsx)("input",{className:b.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.imageRequest,onChange:this.handleRequestChange})]})}}]),a}(n.Component);h.defaultProps={forSubmit:function(){return null}};var f=h,p=a(16),j=a.n(p);function _(e){var t=e.forSubmit;return Object(g.jsx)("header",{className:j.a.searchbar,children:Object(g.jsx)(f,{forSubmit:t})})}_.defaultProps={forSubmit:function(){return null}};var O=a(14),v=a(12),x=a.n(v),y=a(17),w={BASE_URL:"https://pixabay.com/api",IMAGE_TYPE:"photo",ORIENTATION:"horizontal",QUANTITY_PER_PAGE:12,KEY:"24048066-a9af356d7e5c6815eb6be670e"};function I(e,t){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(x.a.mark((function e(t,a){var n,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w.BASE_URL,"/?image_type=").concat(w.IMAGE_TYPE,"&orientation=").concat(w.ORIENTATION,"&q=").concat(t,"&page=").concat(a,"&per_page=").concat(w.QUANTITY_PER_PAGE,"&key=").concat(w.KEY),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,e.next=9,o.hits;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=a.p+"static/media/idle-image.191574ae.png";function C(){return Object(g.jsx)("div",{role:"alert",children:Object(g.jsx)("img",{src:S,alt:"Pixabay"})})}var E=a(18),R=a.n(E),P=a(19),N=a.n(P);function q(){return Object(g.jsx)("div",{className:N.a.loader,children:Object(g.jsx)(R.a,{type:"Puff",color:"#3f51b5",height:500,width:500})})}var A=a.p+"static/media/error.ea564d79.jpg",M=a(20),T=a.n(M);function V(e){var t=e.message;return Object(g.jsxs)("div",{role:"alert",className:T.a.loader,children:[Object(g.jsx)("img",{src:A,alt:"Error"}),Object(g.jsx)("p",{children:t})]})}V.defaultProps={message:""};var Y=a(21),B=a.n(Y),D=function(e){var t=e.image,a=e.tags,n=e.largeImage,r=e.toClick;return Object(g.jsx)("img",{src:t,alt:a,onClick:function(){return r(n)},className:B.a.image})},L=a(22),U=a.n(L);function F(e){var t=e.type,a=e.onClick,n=e.children;return Object(g.jsx)("button",{type:t,className:U.a.btn,onClick:a,id:"btn",children:n})}F.defaultProps={onClick:function(){return null},children:null};var G=a(10),z=a.n(G);function K(e){var t=e.images,a=e.toClick,n=e.forClick;return Object(g.jsxs)("div",{className:z.a.box,children:[Object(g.jsx)("ul",{className:z.a.gallery,children:t.map((function(e){return Object(g.jsx)("li",{className:z.a.item,children:Object(g.jsx)(D,{image:e.webformatURL,tags:e.tags,largeImage:e.largeImageURL,toClick:a})},e.webformatURL)}))}),Object(g.jsx)(F,{type:"button",onClick:n,children:"Load more"})]})}var J="idle",Q="pending",H="resolved",W="rejected",Z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,error:null,status:J},e.addImages=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.imageRequest,r=t.page,o=this.props.imageRequest,c=this.state.page;n!==o&&(this.setState({images:[],page:1,status:Q}),setTimeout((function(){I(o,a.state.page).then((function(e){return a.setState({images:e,status:H})})).catch((function(e){return a.setState({error:e,status:W})}))}),0)),r!==c&&(this.setState({status:Q}),I(n,this.state.page).then((function(e){a.setState({images:[].concat(Object(O.a)(t.images),Object(O.a)(e)),status:H}),document.getElementById("btn").scrollIntoView({block:"center",behavior:"smooth"})})).catch((function(e){return a.setState({error:e,status:W})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,n=e.status;return"idle"===n?Object(g.jsx)(C,{}):"pending"===n?Object(g.jsx)(q,{}):"rejected"===n?Object(g.jsx)(V,{message:a.message}):"resolved"===n?Object(g.jsx)(K,{images:t,toClick:this.props.toClick,forClick:this.addImages}):void 0}}]),a}(n.Component),X=Z,$=a(13),ee=a.n($),te=document.querySelector("#modal-root"),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.forClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.forClose()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(g.jsx)("div",{className:ee.a.overlay,onClick:this.handleBackdropClick,children:Object(g.jsx)("div",{className:ee.a.modal,children:this.props.children})}),te)}}]),a}(n.Component),ne=a(15),re=a(24),oe=a(23),ce=a.n(oe),ie=["children","onClick"],se=function(e){var t=e.children,a=e.onClick,n=Object(re.a)(e,ie);return Object(g.jsx)("button",Object(ne.a)(Object(ne.a)({type:"button",className:ce.a.btn,onClick:a},n),{},{children:t}))};se.defaultProps={onClick:function(){return null},children:null};var le,ue=se,me=["title","titleId"];function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de.apply(this,arguments)}function be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ge(e,t){var a=e.title,r=e.titleId,o=be(e,me);return n.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},o),void 0===a?n.createElement("title",{id:r},"cross"):a?n.createElement("title",{id:r},a):null,le||(le=n.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var he=n.forwardRef(ge),fe=(a.p,a(54),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:"",largeImage:"",showModal:!1},e.handleFormSubmit=function(t){e.setState({imageRequest:t})},e.setTarget=function(t){e.setState({largeImage:t,showModal:!0})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.largeImage,a=e.showModal,n=this.toggleModal,r=this.setTarget;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_,{forSubmit:this.handleFormSubmit}),Object(g.jsx)(X,{imageRequest:this.state.imageRequest,toClick:r}),Object(g.jsx)(m.a,{}),a&&Object(g.jsxs)(ae,{forClose:n,children:[Object(g.jsx)("img",{src:t,alt:t}),Object(g.jsx)(ue,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n,children:Object(g.jsx)(he,{fill:"#fff"})})]})]})}}]),a}(n.Component)),pe=fe;c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(pe,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={form:"SearchForm_form__3zQAI",btn:"SearchForm_btn__2hI9j",btn_label:"SearchForm_btn_label__1l6k6",input:"SearchForm_input__1Ykao"}}},[[55,1,2]]]);
//# sourceMappingURL=main.7e8dc1c3.chunk.js.map