(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={form:"SearchForm_form__3zQAI",btn:"SearchForm_btn__2hI9j",btn_label:"SearchForm_btn_label__1l6k6",input:"SearchForm_input__1Ykao"}},19:function(e,t,a){e.exports={overlay:"Modal_overlay__2MXq6",modal:"Modal_modal__3-Ywl"}},29:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1gZub"}},31:function(e,t,a){e.exports={image:"ImageGalleryItem_image__3gGWX"}},32:function(e,t,a){e.exports={btn:"Button_btn__8b-nx"}},33:function(e,t,a){e.exports={btn:"IconButton_btn__3cnnP"}},8:function(e,t,a){e.exports={box:"ImageGallery_box__Ri7QC",gallery:"ImageGallery_gallery__2EWll",item:"ImageGallery_item__3IbFA",loader:"ImageGallery_loader__2pp8L"}},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),o=(a(39),a(40),a(4)),i=a(5),l=a(7),u=a(6),m=a(16),b=a(11),d=a.n(b),h=a(1),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:""},e.handleRequestChange=function(t){e.setState({imageRequest:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.imageRequest.trim())return m.b.error("Check the correctness of the entered data, images of this category do not exist!"),void e.setState({imageRequest:""});e.props.forSubmit(e.state.imageRequest.trim()),e.setState({imageRequest:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:d.a.form,children:[Object(h.jsx)("button",{type:"submit",className:d.a.btn,children:Object(h.jsx)("span",{className:d.a.btn_label,children:"Search"})}),Object(h.jsx)("input",{className:d.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.imageRequest,onChange:this.handleRequestChange})]})}}]),a}(n.Component);p.defaultProps={forSubmit:function(){return null}};var f=p,g=a(29),j=a.n(g);function v(e){var t=e.forSubmit;return Object(h.jsx)("header",{className:j.a.searchbar,children:Object(h.jsx)(f,{forSubmit:t})})}v.defaultProps={forSubmit:function(){return null}};var O=a(10),x=a.n(O),y=a(12),_=a(15),k=a(17),w=a.n(k);function S(e,t){return C.apply(this,arguments)}function C(){return(C=Object(_.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("",{params:{q:t,page:a}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}w.a.defaults.baseURL="https://pixabay.com/api",w.a.defaults.params={key:"24048066-a9af356d7e5c6815eb6be670e",image_type:"photo",orientation:"horizontal"};var I=a.p+"static/media/pending-image.191574ae.png";function R(){return Object(h.jsx)("div",{role:"alert",children:Object(h.jsx)("img",{src:I,alt:"Pixabay"})})}var q=a(30),N=a.n(q),M=a(8),E=a.n(M);function P(){return Object(h.jsx)("div",{className:E.a.loader,children:Object(h.jsx)(N.a,{type:"Puff",color:"#3f51b5",height:500,width:500})})}var F=a.p+"static/media/error.eaab311d.png";function L(e){var t=e.message;return Object(h.jsxs)("div",{role:"alert",className:E.a.loader,children:[Object(h.jsx)("img",{src:F,alt:"Error"}),Object(h.jsx)("p",{children:t})]})}L.defaultProps={message:""};var B=a(31),A=a.n(B),D=function(e){var t=e.image,a=e.tags,n=e.largeImage,r=e.toClick;return Object(h.jsx)("img",{src:t,alt:a,onClick:function(){return r(n)},className:A.a.image})},G=a(32),T=a.n(G);function U(e){var t=e.type,a=e.onClick,n=e.children;return Object(h.jsx)("button",{type:t,className:T.a.btn,onClick:a,id:"btn",children:n})}function z(e){var t=e.images,a=e.toClick,n=e.forClick;return Object(h.jsxs)("div",{className:E.a.box,children:[Object(h.jsx)("ul",{className:E.a.gallery,children:t.map((function(e){var t=e.webformatURL,n=e.largeImageURL,r=e.tags;return Object(h.jsx)("li",{className:E.a.item,children:Object(h.jsx)(D,{image:t,tags:r,largeImage:n,toClick:a})},t)}))}),Object(h.jsx)(U,{type:"button",onClick:n,children:"Load more"})]})}U.defaultProps={onClick:function(){return null},children:null};var K="idle",W="pending",J="resolved",Q="rejected",X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,error:null,status:K},e.addImages=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n,r,c,s,o,i=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.imageRequest,r=a.page,c=this.props.imageRequest,s=this.state.page,n!==c&&(this.setState({images:[],page:1,status:W}),setTimeout((function(){S(c,i.state.page).then((function(e){return i.setState({images:e,status:J})})).catch((function(e){return i.setState({error:e,status:Q})}))}),0)),r===s){e.next=19;break}return this.setState({status:W}),e.prev=7,e.next=10,S(n,this.state.page);case 10:o=e.sent,this.setState({images:[].concat(Object(y.a)(a.images),Object(y.a)(o)),status:J}),document.getElementById("btn").scrollIntoView({block:"center",behavior:"smooth"}),this.setState({images:[].concat(Object(y.a)(a.images),Object(y.a)(o)),status:J}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),this.setState({e:e.t0,status:Q});case 19:case"end":return e.stop()}}),e,this,[[7,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,n=e.status;return Object(h.jsxs)(h.Fragment,{children:["idle"===n&&Object(h.jsx)(R,{}),"rejected"===n&&Object(h.jsx)(L,{message:a.message}),"pending"===n&&Object(h.jsx)(P,{}),"resolved"===n&&Object(h.jsx)(z,{images:t,toClick:this.props.toClick,forClick:this.addImages})]})}}]),a}(n.Component),Y=X,V=a(19),Z=a.n(V),H=document.querySelector("#modal-root"),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.forClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.forClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(h.jsx)("div",{className:Z.a.overlay,onClick:this.handleBackdropClick,children:Object(h.jsx)("div",{className:Z.a.modal,children:this.props.children})}),H)}}]),a}(n.Component),ee=a(20),te=a(34),ae=a(33),ne=a.n(ae),re=["children","onClick"],ce=function(e){var t=e.children,a=e.onClick,n=Object(te.a)(e,re);return Object(h.jsx)("button",Object(ee.a)(Object(ee.a)({type:"button",className:ne.a.btn,onClick:a},n),{},{children:t}))};ce.defaultProps={onClick:function(){return null},children:null};var se,oe=ce,ie=["title","titleId"];function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},le.apply(this,arguments)}function ue(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function me(e,t){var a=e.title,r=e.titleId,c=ue(e,ie);return n.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},c),void 0===a?n.createElement("title",{id:r},"cross"):a?n.createElement("title",{id:r},a):null,se||(se=n.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var be=n.forwardRef(me),de=(a.p,a(81),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:"",largeImage:"",showModal:!1},e.handleFormSubmit=function(t){e.setState({imageRequest:t})},e.setTarget=function(t){e.setState({largeImage:t,showModal:!0})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.largeImage,a=e.showModal,n=this.toggleModal,r=this.setTarget;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v,{forSubmit:this.handleFormSubmit}),Object(h.jsx)(Y,{imageRequest:this.state.imageRequest,toClick:r}),Object(h.jsx)(m.a,{}),a&&Object(h.jsxs)($,{forClose:n,children:[Object(h.jsx)("img",{src:t,alt:t}),Object(h.jsx)(oe,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n,children:Object(h.jsx)(be,{fill:"#fff"})})]})]})}}]),a}(n.Component)),he=de;a(82);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(he,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.7c7a278d.chunk.js.map